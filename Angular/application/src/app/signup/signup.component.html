<!--
    You need the reference to ngModel in order to access the field
    for example #name="ngModel"
-->
<div class="container" style="margin-top:70px">

    <div *ngIf="isSuccessful">
        <div class='alert alert-success'>
            SignUp Successful <a [routerLink]="[ '/login']"> LogIn</a>
        </div>
    </div>

    <div *ngIf="!isSuccessful" class="modal-content">

        <div class="modal-header" style="padding:35px 50px;">
            <h4><span class="glyphicon glyphicon-user"></span> Sign Up</h4>
        </div>

        <div class="modal-body" style="padding:40px 50px;">
            <form #signupForm="ngForm" (ngSubmit)="signUp()">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name" [(ngModel)]="user.name" name="name" #name="ngModel" required>
                </div>
                <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                    Name is required
                </div>

                <div class="form-group">
                    <label for="role">Role</label>
                    <input type="text" class="form-control" id="role" [(ngModel)]="user.role" name="role" #role="ngModel" required>
                </div>
                <div [hidden]="role.valid || role.pristine" class="alert alert-danger">
                    Role is required
                </div>

                <div class="form-group">
                    <label for="usernme">Username</label>
                    <input type="text" class="form-control" id="username" [(ngModel)]="user.username" name="username" #username="ngModel" required>
                </div>
                <div [hidden]="username.valid || username.pristine" class="alert alert-danger">
                    Username is required
                </div>
                <div [hidden]="!isUsernameInUse" class="alert alert-danger">
                    Username Is Already In Use
                </div>

                <div class="form-group">
                    <label for="psw">Password</label>
                    <input type="password" class="form-control" id="psw" [(ngModel)]="user.password" name="password" #password="ngModel" required>
                </div>
                <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
                    Password is required
                </div>

                <button type="submit" class="btn btn-primary btn-block" [disabled]="!signupForm.form.valid">Sign Up</button>
            </form>

        </div>
    </div>
</div>
